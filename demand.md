色 (Role):

你是一位经验丰富的 Vue.js 前端开发专家，精通使用 Rsbuild、Vue 3 (Composition API)、Vant UI 库和数据可视化。你擅长构建结构清晰、代码健壮、用户体验优秀的 Web 应用。

核心目标 (Primary Goal):

从零开始，使用 Rsbuild + Vue 3 + Vant 4 创建一个功能完整的“儿童成长记录”小工具。该应用需支持多成员管理、身高体重记录、数据可视化分析，并具备强大的数据安全功能（本地导入导出、加密的 WebDAV 同步）。最终成品需要能够直接部署在 Vercel 上。

**#1. 技术栈要求 (Tech Stack):**

* **构建工具:** Rsbuild
* **框架:** Vue 3 (请务必使用 Composition API)
* **UI 库:** Vant 4 (最新版)
* **路由:** Vue Router 4
* **状态管理:** Pinia
* **图表库:** ECharts for Vue (或您认为更适合此场景的轻量级图表库)
* **WebDAV 客户端:** `webdav` (npm package)
* **加密库:** `crypto-js` (用于 WebDAV 数据加密)
* **测试框架:** Vitest, Vue Testing Library

**#2. 详细功能需求 (Detailed Functional Requirements):**

**2.1. 成员管理**

* 支持添加多个孩子的信息。
* 每个成员包含三个核心字段： **姓名 (Name)** 、 **性别 (Gender)** 、 **出生日期 (Date of Birth)** 。
* 提供一个成员列表页面，可以切换、编辑或删除成员。

**2.2. 身高体重记录 (核心功能)**

* 为选定的成员添加一条新的成长记录。
* 每条记录包含三个字段： **记录日期 (Date)** 、 **身高 (Height, 单位: cm)** 、 **体重 (Weight, 单位: kg)** 。
* 所有记录按日期倒序排列在一个列表中，方便查看。
* 支持编辑和删除单条记录。

**2.3. 数据分析与可视化**

* **趋势图表:**
  * 在成员详情页，以图表形式展示该成员的 **身高-时间** 和 **体重-时间** 的变化趋势折线图。
  * 图表需要清晰、美观，并能响应式地适应不同屏幕尺寸。
* **变化量计算:**
  * 在每条记录旁边或详情中，显示与上一次记录相比的身高和体重变化量（例如：`+1.5 cm`, `+0.8 kg`）。
  * 对于第一条记录，则不显示变化量。
* **BMI 计算与展示:**
  * 自动根据每次记录的身高体重计算 BMI (身体质量指数) 值，公式为：**$BMI = \frac{体重(kg)}{身高(m)^2}$**。
  * 在记录列表和图表中可以一并展示 BMI 的变化趋势。

**2.4. 数据安全与同步**

* **数据本地存储:** 所有数据应首先保存在浏览器的 Local Storage 中，确保刷新页面或关闭后数据不丢失。
* **数据导入/导出:**
  * **导出:** 提供一个“导出”按钮，点击后将当前所有成员的所有数据打包成一个 JSON 文件 (`growth-data.json`) 下载到本地。
  * **导入:** 提供一个“导入”按钮，允许用户选择本地的 JSON 文件进行数据恢复。导入前需进行简单的数据格式校验，防止应用崩溃。
* **WebDAV 同步 (加密):**
  * **设置页面:** 应用需要一个设置页面，用于配置 WebDAV 服务器信息： **服务器地址 (URL)** 、 **用户名 (Username)** 、 **密码 (Password)** 。
  * **加密:** 在上传到 WebDAV 之前，必须对整个数据 JSON 字符串使用 **AES 加密** (`crypto-js`库)。用户需要在设置中额外设定一个 **加密密码** ，此密码**绝不**上传，仅用于本地的加密和解密。
  * **同步逻辑:**
    * 提供“立即同步”按钮，将加密后的数据文件上传到 WebDAV。
    * 应用启动时，或在设置页面提供“从云端恢复”按钮，从 WebDAV 下载加密文件，然后使用用户输入的加密密码进行解密并恢复数据。

**#3. 非功能性需求 (Non-Functional Requirements):**

**3.1. 兼容性与交互**

* **路由持久化:** 刷新浏览器页面后，应停留在当前路由，而不是返回首页。
* **数据响应式:** 任何数据的增、删、改操作（如添加一条新体重记录），都必须**立即**且**自动**地反映在相关的UI上（如数据列表、统计图表），无需用户手动刷新页面。
* **表单交互:** 所有输入框（如身高、体重、日期选择器）必须易于使用，并提供清晰的输入反馈和校验。

**32. 代码质量**

* **组件化:** 将功能拆分为高内聚、低耦合的 Vue 组件（例如：`PersonCard.vue`, `GrowthChart.vue`, `DataEntryForm.vue`）。
* **代码注释:** 在关键的业务逻辑和复杂函数处添加必要的注释。
* **状态管理:** 使用 Pinia 统一管理应用的核心状态（如成员列表、当前选中成员、WebDAV配置等）。

**#4. 测试要求 (Testing Requirements):**

* **单元测试 (Unit Tests):** 使用 Vitest 为核心的工具函数（如 BMI 计算、数据加密/解密逻辑）编写单元测试。
* **组件测试 (Component Tests):** 使用 Vue Testing Library 对关键组件（如数据录入表单）进行测试，确保其交互和渲染符合预期。
* **严格性:** 测试用例需要覆盖正常流程、边界条件和异常情况。

#5. 交付产物 (Deliverables):

请提供该项目的完整源代码文件结构。请将代码按文件（如 main.js, App.vue, views/Home.vue, components/GrowthChart.vue, stores/person.js 等）进行组织和呈现，并附上清晰的安装、运行和部署指南。

#6. 需求约束 (Constraint):

本项目不允许以任何理由阉割或简化上述任何一项需求。所有功能点都必须被完整实现。
